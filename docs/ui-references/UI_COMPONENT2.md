
                <!-- Content Strategy Tab -->
                <div id="content-tab" class="tab-content">
                    <div class="card" style="margin-bottom: 32px;">
                        <div class="card-content">
                            <h3 style="font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 16px;">Priority Content Clusters</h3>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Cluster</th>
                                        <th>Keywords</th>
                                        <th>Volume</th>
                                        <th>Priority Score</th>
                                        <th>Strategy</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="font-weight: 500;">Water Damage Services</td>
                                        <td>45</td>
                                        <td>68,000</td>
                                        <td><span class="badge badge-red">8,450</span></td>
                                        <td>Create comprehensive guide</td>
                                    </tr>
                                    <tr>
                                        <td style="font-weight: 500;">Emergency Services</td>
                                        <td>32</td>
                                        <td>45,200</td>
                                        <td><span class="badge badge-orange">6,780</span></td>
                                        <td>Optimize existing pages</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Content Calendar -->
                    <div class="card">
                        <div class="card-content">
                            <h3 style="font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 16px;">6-Month Content Calendar</h3>
                            <div class="grid grid-3">
                                <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                    <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                        <h4 style="font-weight: 500;">Month 1</h4>
                                        <span class="badge badge-green">Priority</span>
                                    </div>
                                    <div style="font-size: 14px; color: #374151; margin-bottom: 8px;">
                                        <strong>Content:</strong> Water Damage Services Guide
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Word Count:</strong> 2,500 words
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Target Keywords:</strong> 45
                                    </div>
                                    <div style="font-size: 14px; color: #10b981; font-weight: 500;">
                                        Expected Impact: +3,400 visits/month
                                    </div>
                                </div>

                                <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                    <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                        <h4 style="font-weight: 500;">Month 2</h4>
                                        <span class="badge badge-blue">Medium</span>
                                    </div>
                                    <div style="font-size: 14px; color: #374151; margin-bottom: 8px;">
                                        <strong>Content:</strong> Insurance Claims Guide
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Word Count:</strong> 1,800 words
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Target Keywords:</strong> 28
                                    </div>
                                    <div style="font-size: 14px; color: #10b981; font-weight: 500;">
                                        Expected Impact: +1,850 visits/month
                                    </div>
                                </div>

                                <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                    <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                        <h4 style="font-weight: 500;">Month 3</h4>
                                        <span class="badge badge-blue">Medium</span>
                                    </div>
                                    <div style="font-size: 14px; color: #374151; margin-bottom: 8px;">
                                        <strong>Content:</strong> Commercial Services Page
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Word Count:</strong> 1,200 words
                                    </div>
                                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">
                                        <strong>Target Keywords:</strong> 18
                                    </div>
                                    <div style="font-size: 14px; color: #10b981; font-weight: 500;">
                                        Expected Impact: +900 visits/month
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ROI Projections Tab -->
                <div id="roi-tab" class="tab-content">
                    <div class="grid grid-2">
                        <!-- Projections Chart Area -->
                        <div class="card">
                            <div class="card-content">
                                <h3 style="font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 16px;">Traffic & Revenue Projections</h3>
                                <div style="height: 256px; background-color: #f9fafb; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                                    <div style="text-align: center; color: #6b7280;">
                                        <svg style="width: 48px; height: 48px; margin: 0 auto 8px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                        </svg>
                                        <p>Revenue Growth Chart</p>
                                        <p style="font-size: 14px;">Projected 180% increase over 6 months</p>
                                    </div>
                                </div>
                                <div class="grid grid-2" style="text-align: center;">
                                    <div>
                                        <div style="font-size: 14px; color: #6b7280;">Current Revenue</div>
                                        <div style="font-size: 20px; font-weight: 700; color: #111827;">$43,750/mo</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 14px; color: #6b7280;">Projected Revenue</div>
                                        <div style="font-size: 20px; font-weight: 700; color: #10b981;">$73,500/mo</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Breakdown -->
                        <div class="card">
                            <div class="card-content">
                                <h3 style="font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 16px;">Projected Results Timeline</h3>
                                <div style="display: flex; flex-direction: column; gap: 16px;">
                                    <div style="display: flex; align-items: center; padding: 12px; background-color: #d1fae5; border-radius: 8px;">
                                        <div style="flex-shrink: 0; width: 48px; height: 48px; background-color: #a7f3d0; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: #10b981; font-weight: 700; font-size: 14px;">30d</span>
                                        </div>
                                        <div style="margin-left: 16px;">
                                            <div style="font-size: 14px; font-weight: 500; color: #111827;">Quick Wins Implementation</div>
                                            <div style="font-size: 14px; color: #6b7280;">+850 visits/month | +$2,975 revenue</div>
                                        </div>
                                    </div>

                                    <div style="display: flex; align-items: center; padding: 12px; background-color: #dbeafe; border-radius: 8px;">
                                        <div style="flex-shrink: 0; width: 48px; height: 48px; background-color: #bfdbfe; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: #2563eb; font-weight: 700; font-size: 14px;">90d</span>
                                        </div>
                                        <div style="margin-left: 16px;">
                                            <div style="font-size: 14px; font-weight: 500; color: #111827;">Content Strategy Launch</div>
                                            <div style="font-size: 14px; color: #6b7280;">+2,550 visits/month | +$8,925 revenue</div>
                                        </div>
                                    </div>

                                    <div style="display: flex; align-items: center; padding: 12px; background-color: #e9d5ff; border-radius: 8px;">
                                        <div style="flex-shrink: 0; width: 48px; height: 48px; background-color: #ddd6fe; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: #7c3aed; font-weight: 700; font-size: 14px;">180d</span>
                                        </div>
                                        <div style="margin-left: 16px;">
                                            <div style="font-size: 14px; font-weight: 500; color: #111827;">Full Strategy Maturity</div>
                                            <div style="font-size: 14px; color: #6b7280;">+5,950 visits/month | +$20,825 revenue</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Investment Required -->
                                <div style="margin-top: 24px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                                    <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Investment Required</h4>
                                    <div style="display: flex; flex-direction: column; gap: 8px; font-size: 14px;">
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="color: #6b7280;">Optimization Work:</span>
                                            <span style="font-weight: 500;">90 hours</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="color: #6b7280;">Content Creation:</span>
                                            <span style="font-weight: 500;">200 hours</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; border-top: 1px solid #e5e7eb; padding-top: 8px;">
                                            <span style="color: #111827; font-weight: 500;">Total Investment:</span>
                                            <span style="font-weight: 700; color: #111827;">$43,500</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="color: #6b7280;">Payback Period:</span>
                                            <span style="font-weight: 500; color: #10b981;">14.6 months</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Implementation Roadmap Tab -->
                <div id="roadmap-tab" class="tab-content">
                    <div style="display: flex; flex-direction: column; gap: 32px;">
                        <!-- Week 1-2 -->
                        <div class="card">
                            <div class="card-content">
                                <div style="display: flex; align-items: center; margin-bottom: 16px;">
                                    <div style="flex-shrink: 0; width: 32px; height: 32px; background-color: #d1fae5; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <span style="color: #10b981; font-weight: 700; font-size: 14px;">1</span>
                                    </div>
                                    <h3 style="margin-left: 12px; font-size: 18px; font-weight: 600; color: #111827;">Weeks 1-2: Quick Win Optimizations</h3>
                                </div>
                                <div class="grid grid-2">
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Priority Tasks</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #10b981; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Optimize "emergency water removal" title tag and meta description
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #10b981; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Add FAQ section to water damage cleanup page
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #10b981; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Improve internal linking for top 8 quick win keywords
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Success Metrics</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li>• 5+ keywords improved rankings</li>
                                            <li>• +850 organic visits/month</li>
                                            <li>• +$2,975 monthly revenue</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Month 2 -->
                        <div class="card">
                            <div class="card-content">
                                <div style="display: flex; align-items: center; margin-bottom: 16px;">
                                    <div style="flex-shrink: 0; width: 32px; height: 32px; background-color: #dbeafe; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <span style="color: #2563eb; font-weight: 700; font-size: 14px;">2</span>
                                    </div>
                                    <h3 style="margin-left: 12px; font-size: 18px; font-weight: 600; color: #111827;">Month 2: Content Creation Launch</h3>
                                </div>
                                <div class="grid grid-2">
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Content Development</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #2563eb; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Create comprehensive Water Damage Services Guide (2,500 words)
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #2563eb; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Develop Insurance Claims Guide (1,800 words)
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #2563eb; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Optimize all content for target keyword clusters
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Expected Results</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li>• 73 keywords targeted with new content</li>
                                            <li>• +5,250 organic visits/month</li>
                                            <li>• +$18,375 monthly revenue potential</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Months 3-6 -->
                        <div class="card">
                            <div class="card-content">
                                <div style="display: flex; align-items: center; margin-bottom: 16px;">
                                    <div style="flex-shrink: 0; width: 32px; height: 32px; background-color: #e9d5ff; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <span style="color: #7c3aed; font-weight: 700; font-size: 14px;">3-6</span>
                                    </div>
                                    <h3 style="margin-left: 12px; font-size: 18px; font-weight: 600; color: #111827;">Months 3-6: Scale & Optimize</h3>
                                </div>
                                <div class="grid grid-2">
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Scaling Activities</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #7c3aed; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Develop location-specific landing pages
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #7c3aed; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Create commercial services section
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <span style="flex-shrink: 0; width: 6px; height: 6px; background-color: #7c3aed; border-radius: 50%; margin-top: 8px; margin-right: 8px;"></span>
                                                Monitor and optimize based on performance data
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 style="font-weight: 500; color: #111827; margin-bottom: 12px;">Full Maturity Results</h4>
                                        <ul style="display: flex; flex-direction: column; gap: 8px; font-size: 14px; color: #374151; list-style: none;">
                                            <li>• 145+ total keywords improved</li>
                                            <li>• +8,500 organic visits/month</li>
                                            <li>• +$29,750 monthly revenue</li>
                                            <li>• 180% total growth</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal hidden" id="export-modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">Export Keywords</h2>
                <button class="modal-close" onclick="closeExportModal()">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Export Format Selection -->
                <div class="form-group">
                    <label class="form-label">Export Format</label>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer;">
                            <input type="radio" name="export-format" value="csv" checked style="margin-right: 12px;">
                            <div>
                                <div style="font-weight: 500;">CSV</div>
                                <div style="font-size: 13px; color: #6b7280;">Excel-compatible spreadsheet</div>
                            </div>
                        </label>
                        <label style="display: flex; align-items: center; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer;">
                            <input type="radio" name="export-format" value="xlsx" style="margin-right: 12px;">
                            <div>
                                <div style="font-weight: 500;">Excel (.xlsx)</div>
                                <div style="font-size: 13px; color: #6b7280;">Native Excel format</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Export Type -->
                <div class="form-group">
                    <label class="form-label">Export Type</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="all" checked style="margin-right: 8px;">
                            All Keywords (1,247 keywords)
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="filtered" style="margin-right: 8px;">
                            Current Filtered View (25 keywords)
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="client" style="margin-right: 8px;">
                            Client Dashboard Format (Action items only)
                        </label>
                    </div>
                </div>

                <!-- Additional Options -->
                <div class="form-group">
                    <label class="form-label">Include Additional Data</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" checked style="margin-right: 8px;">
                            Cluster Information
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" checked style="margin-right: 8px;">
                            Strategic Recommendations
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" style="margin-right: 8px;">
                            Individual Scores (Volume, KD, etc.)
                        </label>
                    </div>
                </div>

                <!-- Export Actions -->
                <div style="display: flex; gap: 12px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                    <button class="btn btn-primary" onclick="startExport()" style="flex: 1;">Start Export</button>
                    <button class="btn btn-secondary" onclick="closeExportModal()">Cancel</button>
                </div>

                <!-- Export Progress (Hidden initially) -->
                <div style="display: none; margin-top: 16px; padding: 16px; background: #f9fafb; border-radius: 8px;" id="export-progress">
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <div class="loading-spinner"></div>
                        <span style="font-weight: 500;">Generating Export...</span>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 4px;">
                            <span>Progress</span>
                            <span>850 / 1,247 (68%)</span>
                        </div>
                        <div style="width: 100%; background-color: #e5e7eb; border-radius: 9999px; height: 8px;">
                            <div style="background-color: #3b82f6; height: 8px; border-radius: 9999px; width: 68%;"></div>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: #6b7280;">
                        Processing keywords and applying formatting...
                    </div>
                </div>

                <!-- Export Complete (Hidden initially) -->
                <div style="display: none; margin-top: 16px; padding: 16px; background: #d1fae5; border: 1px solid #a7f3d0; border-radius: 8px;" id="export-complete">
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <svg style="width: 20px; height: 20px; color: #10b981; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span style="font-weight: 500; color: #10b981;">Export Complete!</span>
                    </div>
                    <div style="color: #059669; margin-bottom: 12px;">
                        Your keyword export is ready for download.
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-primary">Download File</button>
                        <button class="btn btn-secondary" onclick="closeExportModal()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Conflict Resolution Modal -->
    <div class="modal hidden" id="conflict-modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title">Resolve Data Conflicts</h2>
                <button class="modal-close" onclick="closeConflictModal()">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <svg style="width: 20px; height: 20px; color: #d97706; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <span style="font-weight: 600; color: #92400e;">25 Data Conflicts Found</span>
                    </div>
                    <p style="color: #92400e; font-size: 14px;">
                        Some keywords have conflicting data between your existing dataset and the new upload. Please choose which data to keep for each conflict.
                    </p>
                </div>

                <!-- Conflict Resolution Options -->
                <div style="display: flex; gap: 12px; margin-bottom: 24px; padding: 16px; background: #f9fafb; border-radius: 8px;">
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('keep_existing')">Keep All Existing</button>
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('use_new')">Use All New</button>
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('best_metrics')">Auto-Select Best Metrics</button>
                </div>

                <!-- Individual Conflicts -->
                <div style="max-height: 400px; overflow-y: auto;">
                    <div style="margin-bottom: 16px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 12px; padding: 12px; background: #eff6ff; border-radius: 6px;">
                            Keyword: "water damage restoration"
                        </h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <!-- Existing Data -->
                            <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">Existing Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-water-damage-restoration" value="existing" style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Keep This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 1,900</div>
                                    <div>KD: 21</div>
                                    <div>Position: #3</div>
                                    <div>CPC: $15.50</div>
                                    <div style="color: #dc2626; margin-top: 4px;">Last updated: 2 weeks ago</div>
                                </div>
                            </div>

                            <!-- New Data -->
                            <div style="border: 2px solid #3b82f6; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">New Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-water-damage-restoration" value="new" checked style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Use This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 2,100 <span style="color: #10b981;">↑ +200</span></div>
                                    <div>KD: 19 <span style="color: #10b981;">↓ -2</span></div>
                                    <div>Position: #2 <span style="color: #10b981;">↑ +1</span></div>
                                    <div>CPC: $16.20 <span style="color: #10b981;">↑ +$0.70</span></div>
                                    <div style="color: #10b981; margin-top: 4px;">Fresh data from today</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 12px; padding: 12px; background: #eff6ff; border-radius: 6px;">
                            Keyword: "emergency water removal"
                        </h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <!-- Existing Data -->
                            <div style="border: 2px solid #10b981; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">Existing Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-emergency-water-removal" value="existing" checked style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Keep This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 2,900</div>
                                    <div>KD: 18</div>
                                    <div>Position: #2</div>
                                    <div>CPC: $12.00</div>
                                    <div style="color: #10b981; margin-top: 4px;">Better position</div>
                                </div>
                            </div>

                            <!-- New Data -->
                            <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">New Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-emergency-water-removal" value="new" style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Use This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 2,850 <span style="color: #dc2626;">↓ -50</span></div>
                                    <div>KD: 20 <span style="color: #dc2626;">↑ +2</span></div>
                                    <div>Position: #4 <span style="color: #dc2626;">↓ -2</span></div>
                                    <div>CPC: $13.50 <span style="color: #10b981;">↑ +$1.50</span></div>
                                    <div style="color: #dc2626; margin-top: 4px;">Position dropped</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resolution Actions -->
                <div style="display: flex; gap: 12px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                    <button class="btn btn-primary" onclick="applyConflictResolutions()">Apply Selected Resolutions</button>
                    <button class="btn btn-secondary" onclick="closeConflictModal()">Cancel Update</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showScreen(screenName) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show selected screen
            if (screenName === 'projects') {
                document.getElementById('projects-screen').classList.add('active');
            } else {
                document.getElementById(screenName + '-screen').classList.add('active');
            }

            // Update nav button states
            document.querySelectorAll('.nav-item').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Set active state for current screen
            event.target.classList.add('active');
        }

        function showAdviceTab(tabName) {
            // Hide all advice content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabName + '-tab').classList.add('active');

            // Update tab states
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
        }

        function openClusterModal() {
            document.getElementById('cluster-modal').classList.remove('hidden');
        }

        function closeClusterModal() {
            document.getElementById('cluster-modal').classList.add('hidden');
        }

        function toggleColumnSelector() {
            const selector = document.getElementById('column-selector');
            if (selector.style.display === 'none') {
                selector.style.display = 'block';
            } else {
                selector.style.display = 'none';
            }
        }

        function showUploadTab(tabName) {
            // Hide all upload content
            document.querySelectorAll('#upload-screen .tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabName + '-upload-content').classList.add('active');

            // Update tab states
            document.querySelectorAll('#upload-screen .tab-button').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName + '-upload-tab').classList.add('active');
        }

        function openExportModal() {
            document.getElementById('export-modal').classList.remove('hidden');
        }

        function closeExportModal() {
            document.getElementById('export-modal').classList.add('hidden');
        }

        function startExport() {
            // Hide export form, show progress
            document.getElementById('export-progress').style.display = 'block';
            
            // Simulate export progress
            setTimeout(() => {
                document.getElementById('export-progress').style.display = 'none';
                document.getElementById('export-complete').style.display = 'block';
            }, 3000);
        }

        function openConflictResolution() {
            document.getElementById('conflict-modal').classList.remove('hidden');
        }

        function closeConflictModal() {
            document.getElementById('conflict-modal').classList.add('hidden');
        }

        function resolveAllConflicts(resolution) {
            // Apply resolution to all conflicts
            const radios = document.querySelectorAll('#conflict-modal input[type="radio"]');
            radios.forEach(radio => {
                if (resolution === 'keep_existing' && radio.value === 'existing') {
                    radio.checked = true;
                } else if (resolution === 'use_new' && radio.value === 'new') {
                    radio.checked = true;
                } else if (resolution === 'best_metrics') {
                    // Logic to select best metrics automatically
                    // For demo, just select new data
                    if (radio.value === 'new') {
                        radio.checked = true;
                    }
                }
            });
        }

        function applyConflictResolutions() {
            // Collect all resolution choices and apply them
            closeConflictModal();
            
            // Show update preview with resolved conflicts
            const updatePreview = document.getElementById('update-preview');
            updatePreview.style.display = 'block';
            
            // Hide the resolve conflicts button since conflicts are resolved
            document.getElementById('resolve-conflicts-btn').style.display = 'none';
            
            // Update the conflicts count to 0
            const conflictsDiv = updatePreview.querySelector('[style*="background: #fecaca"]');
            if (conflictsDiv) {
                conflictsDiv.querySelector('.stat-value, [class*="font-weight: 700"]').textContent = '0';
            }
        }

        function showUpdatePreview() {
            // Simulate file selection and show preview
            document.getElementById('update-preview').style.display = 'block';
        }

        function showSchemaPreview() {
            // Simulate file selection and schema detection
            document.getElementById('schema-preview').style.display = 'block';
            
            // After a delay, show processing status
            setTimeout(() => {
                document.getElementById('processing-status').style.display = 'block';
            }, 2000);
        }

        // Set initial active states
        document.addEventListener('DOMContentLoaded', function() {
            // Set upload as default active
            showScreen('upload');
        });
    </script>
</body>
</html>