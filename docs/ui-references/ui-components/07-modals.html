<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Components</title>
</head>
<body>
    <!-- Export Modal -->
    <div class="modal hidden" id="export-modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">Export Keywords</h2>
                <button class="modal-close" onclick="closeExportModal()">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Export Format Selection -->
                <div class="form-group">
                    <label class="form-label">Export Format</label>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer;">
                            <input type="radio" name="export-format" value="csv" checked style="margin-right: 12px;">
                            <div>
                                <div style="font-weight: 500;">CSV</div>
                                <div style="font-size: 13px; color: #6b7280;">Excel-compatible spreadsheet</div>
                            </div>
                        </label>
                        <label style="display: flex; align-items: center; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer;">
                            <input type="radio" name="export-format" value="xlsx" style="margin-right: 12px;">
                            <div>
                                <div style="font-weight: 500;">Excel (.xlsx)</div>
                                <div style="font-size: 13px; color: #6b7280;">Native Excel format</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Export Type -->
                <div class="form-group">
                    <label class="form-label">Export Type</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="all" checked style="margin-right: 8px;">
                            All Keywords (1,247 keywords)
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="filtered" style="margin-right: 8px;">
                            Current Filtered View (25 keywords)
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="radio" name="export-type" value="client" style="margin-right: 8px;">
                            Client Dashboard Format (Action items only)
                        </label>
                    </div>
                </div>

                <!-- Additional Options -->
                <div class="form-group">
                    <label class="form-label">Include Additional Data</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" checked style="margin-right: 8px;">
                            Cluster Information
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" checked style="margin-right: 8px;">
                            Strategic Recommendations
                        </label>
                        <label style="display: flex; align-items: center; font-size: 14px;">
                            <input type="checkbox" style="margin-right: 8px;">
                            Individual Scores (Volume, KD, etc.)
                        </label>
                    </div>
                </div>

                <!-- Export Actions -->
                <div style="display: flex; gap: 12px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                    <button class="btn btn-primary" onclick="startExport()" style="flex: 1;">Start Export</button>
                    <button class="btn btn-secondary" onclick="closeExportModal()">Cancel</button>
                </div>

                <!-- Export Progress (Hidden initially) -->
                <div style="display: none; margin-top: 16px; padding: 16px; background: #f9fafb; border-radius: 8px;" id="export-progress">
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <div class="loading-spinner"></div>
                        <span style="font-weight: 500;">Generating Export...</span>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 4px;">
                            <span>Progress</span>
                            <span>850 / 1,247 (68%)</span>
                        </div>
                        <div style="width: 100%; background-color: #e5e7eb; border-radius: 9999px; height: 8px;">
                            <div style="background-color: #3b82f6; height: 8px; border-radius: 9999px; width: 68%;"></div>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: #6b7280;">
                        Processing keywords and applying formatting...
                    </div>
                </div>

                <!-- Export Complete (Hidden initially) -->
                <div style="display: none; margin-top: 16px; padding: 16px; background: #d1fae5; border: 1px solid #a7f3d0; border-radius: 8px;" id="export-complete">
                    <div style="display: flex; align-items: center; margin-bottom: 12px;">
                        <svg style="width: 20px; height: 20px; color: #10b981; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span style="font-weight: 500; color: #10b981;">Export Complete!</span>
                    </div>
                    <div style="color: #059669; margin-bottom: 12px;">
                        Your keyword export is ready for download.
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-primary">Download File</button>
                        <button class="btn btn-secondary" onclick="closeExportModal()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Conflict Resolution Modal -->
    <div class="modal hidden" id="conflict-modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title">Resolve Data Conflicts</h2>
                <button class="modal-close" onclick="closeConflictModal()">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <svg style="width: 20px; height: 20px; color: #d97706; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <span style="font-weight: 600; color: #92400e;">25 Data Conflicts Found</span>
                    </div>
                    <p style="color: #92400e; font-size: 14px;">
                        Some keywords have conflicting data between your existing dataset and the new upload. Please choose which data to keep for each conflict.
                    </p>
                </div>

                <!-- Conflict Resolution Options -->
                <div style="display: flex; gap: 12px; margin-bottom: 24px; padding: 16px; background: #f9fafb; border-radius: 8px;">
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('keep_existing')">Keep All Existing</button>
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('use_new')">Use All New</button>
                    <button class="btn btn-secondary" onclick="resolveAllConflicts('best_metrics')">Auto-Select Best Metrics</button>
                </div>

                <!-- Individual Conflicts -->
                <div style="max-height: 400px; overflow-y: auto;">
                    <div style="margin-bottom: 16px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 12px; padding: 12px; background: #eff6ff; border-radius: 6px;">
                            Keyword: "water damage restoration"
                        </h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <!-- Existing Data -->
                            <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">Existing Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-water-damage-restoration" value="existing" style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Keep This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 1,900</div>
                                    <div>KD: 21</div>
                                    <div>Position: #3</div>
                                    <div>CPC: $15.50</div>
                                    <div style="color: #dc2626; margin-top: 4px;">Last updated: 2 weeks ago</div>
                                </div>
                            </div>

                            <!-- New Data -->
                            <div style="border: 2px solid #3b82f6; border-radius: 8px; padding: 16px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <h5 style="font-weight: 500;">New Data</h5>
                                    <label style="display: flex; align-items: center;">
                                        <input type="radio" name="conflict-water-damage-restoration" value="new" checked style="margin-right: 8px;">
                                        <span style="font-size: 14px;">Use This</span>
                                    </label>
                                </div>
                                <div style="font-size: 14px; color: #6b7280;">
                                    <div>Volume: 2,100 <span style="color: #10b981;">↑ +200</span></div>
                                    <div>KD: 19 <span style="color: #10b981;">↓ -2</span></div>
                                    <div>Position: #2 <span style="color: #10b981;">↑ +1</span></div>
                                    <div>CPC: $16.20 <span style="color: #10b981;">↑ +$0.70</span></div>
                                    <div style="color: #10b981; margin-top: 4px;">Fresh data from today</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resolution Actions -->
                <div style="display: flex; gap: 12px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                    <button class="btn btn-primary" onclick="applyConflictResolutions()">Apply Selected Resolutions</button>
                    <button class="btn btn-secondary" onclick="closeConflictModal()">Cancel Update</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>